@model Capstone.WebUI.Models.PNightEditViewModel
@using Capstone.WebUI.Domain.Entities;
@{
    if(TempData["Title"] == null)
    { 
        ViewBag.Title = "Add";
    }
    else
    { 
        ViewBag.Title = TempData["Title"];
    }
}

<h1> @TempData["Title"] </h1>

<!-- Commenting out but add these back in when I have time to match the list item names to the id: Charity: Model.Charity.Name <br /> Store#: Model.BVLocation.BvStoreNum -->

@using (Html.BeginForm("PartnershipNightEdit", "CRUD"))
{
    <!--NOTE: Used in-line css in lieu of global css fixes -->
    <table>
        <tr><th>Start Date/Time:</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.StartDate)</td></tr>
        <tr><th>EndDate</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.EndDate)</td></tr>

        <tr><th>Check Request:</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.CheckRequestId)</td></tr>

        <tr><th>Comments:</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.Comments)</td></tr>

        <tr><th>Check Request Finished?</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.CheckRequestFinished)</td></tr>

        <tr><th>Before the Event Form Finished?</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.BeforeTheEventFinished)</td></tr>

        <tr><th>After the Event Form Finished?</th></tr>
        <tr><td>@Html.EditorFor(m => m.PartnershipNight.AfterTheEventFinished)</td></tr>

        <tr><th>Charity</th></tr>
        <tr><td>
            @{
    if (Model.Charities != null)
    {
                    @Html.DropDownListFor(m => m.PartnershipNight.Charity.CharityId, new SelectList(Model.Charities, "CharityId", "Name"));
                            @Html.HiddenFor(x => x.PartnershipNight.Charity.CharityId)
    }
    else if (TempData["Charities"] != null)
    {
        Model.Charities = TempData["Charities"] as List<Charity>;
                    @Html.DropDownListFor(m => m.PartnershipNight.Charity.CharityId, new SelectList(Model.Charities, "CharityId", "Name"));
                            @Html.HiddenFor(x => x.PartnershipNight.Charity.CharityId)

    }
            }
        </td></tr>
    <tr><th style="text-align:left;">BV Location</th></tr>
    <tr><td>
            @{
    if (Model.Locations != null)
    {
                    @Html.DropDownListFor(m => m.PartnershipNight.BVLocation.BvLocationId, new SelectList(Model.Locations, "BvLocationId", "BvStoreNum"));
                            @Html.HiddenFor(x => x.PartnershipNight.BVLocation.BvLocationId);
    }
    else if (TempData["Locations"] != null)
    {
        Model.Locations = TempData["Locations"] as List<BvLocation>;
                    @Html.DropDownListFor(m => m.PartnershipNight.BVLocation.BvLocationId, new SelectList(Model.Locations, "BvLocationId", "BvStoreNum"));
                            @Html.HiddenFor(x => x.PartnershipNight.BVLocation.BvLocationId);
    }
            }
     </td></tr>
</table>
    <p>
        <input type="submit" value="Save" /> &nbsp; &nbsp; &nbsp;
        @Html.ActionLink("Cancel and return to List", "PartnershipNightIndex")
    </p>
}